import {Grid} from "@material-ui/core";
import React, {useState} from "react";
import {Link} from "react-router-dom";
import "./document.css";

const Document = ( {value}) => {
const data = [
{
text: "Upload Your Photo Id",
},
{
text: "Upload your proof of home address",
},
{
text: "Upload Proof of Bank",
},
{
text: "Upload Proof of Business",
},
{
text: "Inside Picture",
},
{
text: "Outside Picture",
},
{
text: "Others",
},
];

const CustomInput = ({IncreaseNumberOfInputs, showPlus, DecreaseNumberOfInputs, id, NumberOfInputs}) => {
const [fileName, setFileName] = useState("");

const handleFileInputChange = (e) => {
setFileName(e.target.files[0].name);
};
console.log("NumberOfInputs", NumberOfInputs);
console.log("id", id);
return (
<>
    <div className="row d-flex align-items-center mb-4 mb-md-4" key={"keyy" + id.toString()}>
        {/* ----------label-------- */}
        <div className="inputs d-flex col-md-5 col-sm-5 col-lg-5 col-12"></div>
        {/* ----------label-------- */}

        <div className="inputs col-sm-5  col-10 col-md-5 col-lg-5 pointer">
            <div className="box ">
                <div className="pointer">
                    {fileName.length > 0 ? (
                    fileName
                    ) : (
                    <>
                        <svg className="me-2 pointer" width="16" height="14" viewBox="0 0 16 14" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15.4677 2.6651C15.1483 2.3305 14.7072 2.13278 14.2053 2.13278H11.6806V2.10236C11.6806 1.72214 11.5285 1.35712 11.27 1.11377C11.0114 0.855216 10.6616 0.703125 10.2814 0.703125H5.71863C5.32319 0.703125 4.97338 0.855216 4.71483 1.11377C4.45627 1.37233 4.30418 1.72214 4.30418 2.10236V2.13278H1.79468C1.29278 2.13278 0.851711 2.3305 0.532319 2.6651C0.212928 2.98449 0 3.44077 0 3.92746V11.5016C0 12.0035 0.197719 12.4446 0.532319 12.764C0.851711 13.0834 1.30798 13.2963 1.79468 13.2963H14.2053C14.7072 13.2963 15.1483 13.0986 15.4677 12.764C15.7871 12.4446 16 11.9883 16 11.5016V3.92746C16 3.42556 15.8023 2.98449 15.4677 2.6651ZM15.2091 11.5016H15.1939C15.1939 11.7754 15.0875 12.0187 14.9049 12.2012C14.7224 12.3837 14.4791 12.4902 14.2053 12.4902H1.79468C1.52091 12.4902 1.27757 12.3837 1.09506 12.2012C0.912548 12.0187 0.806084 11.7754 0.806084 11.5016V3.92746C0.806084 3.6537 0.912548 3.41035 1.09506 3.22784C1.27757 3.04533 1.52091 2.93887 1.79468 2.93887H4.73004C4.95818 2.93887 5.14068 2.75636 5.14068 2.52822V2.08716C5.14068 1.91985 5.20152 1.76776 5.30799 1.6613C5.41445 1.55484 5.56654 1.494 5.73384 1.494H10.2814C10.4487 1.494 10.6008 1.55484 10.7072 1.6613C10.8137 1.76776 10.8745 1.91985 10.8745 2.08716V2.52822C10.8745 2.75636 11.057 2.93887 11.2852 2.93887H14.2205C14.4943 2.93887 14.7376 3.04533 14.9202 3.22784C15.1027 3.41035 15.2091 3.6537 15.2091 3.92746V11.5016Z"
                                fill="#212121" />
                            <path
                                d="M7.99926 3.97266C6.96504 3.97266 6.02207 4.39851 5.35287 5.06771C4.66846 5.75212 4.25781 6.67988 4.25781 7.7141C4.25781 8.74831 4.68367 9.69128 5.35287 10.3605C6.03728 11.0449 6.96504 11.4555 7.99926 11.4555C9.03348 11.4555 9.97645 11.0297 10.6457 10.3605C11.3301 9.67607 11.7407 8.74831 11.7407 7.7141C11.7407 6.67988 11.3149 5.73691 10.6457 5.06771C9.97645 4.39851 9.03348 3.97266 7.99926 3.97266ZM10.0677 9.79774C9.53538 10.3149 8.80534 10.6495 7.99926 10.6495C7.19318 10.6495 6.46314 10.3149 5.93082 9.79774C5.3985 9.26542 5.07911 8.53539 5.07911 7.72931C5.07911 6.92322 5.41371 6.19319 5.93082 5.66087C6.46314 5.12855 7.19318 4.80916 7.99926 4.80916C8.80534 4.80916 9.53538 5.14376 10.0677 5.66087C10.6 6.19319 10.9194 6.92322 10.9194 7.72931C10.9346 8.53539 10.6 9.26542 10.0677 9.79774Z"
                                fill="#212121" />
                            <path
                                d="M13.4132 5.44753C13.8248 5.44753 14.1585 5.11387 14.1585 4.70228C14.1585 4.29069 13.8248 3.95703 13.4132 3.95703C13.0016 3.95703 12.668 4.29069 12.668 4.70228C12.668 5.11387 13.0016 5.44753 13.4132 5.44753Z"
                                fill="#212121" />
                        </svg>

                        <svg className="me-2 pointer" width="16" height="16" viewBox="0 0 16 16" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M4.36796 16C3.29315 16 2.28553 15.5841 1.53057 14.8288C0.775619 14.0736 0.359375 13.0662 0.359375 11.9914C0.359375 10.9169 0.775315 9.90929 1.53057 9.15433L9.8293 0.855604C11.0166 -0.331101 12.8616 -0.277892 14.1207 0.981177C15.3797 2.24025 15.4338 4.08491 14.2465 5.27253L6.4504 13.0687C5.71855 13.8005 4.52668 13.8017 3.79361 13.0687C3.06116 12.3359 3.06146 11.144 3.79361 10.4119L9.07465 5.13085C9.25282 4.95267 9.54137 4.95267 9.71954 5.13085C9.89771 5.30902 9.89771 5.59756 9.71954 5.77573L4.4385 11.0568C4.06179 11.4335 4.06179 12.0468 4.4385 12.4238C4.81583 12.8005 5.42879 12.7999 5.80551 12.4238L13.6016 4.62764C14.4211 3.80793 14.3672 2.51754 13.4758 1.62607C12.5843 0.734593 11.2939 0.680776 10.4742 1.50049L2.17546 9.79922C1.5926 10.3821 1.27152 11.1608 1.27152 11.9914C1.27152 12.8224 1.5926 13.6011 2.17546 14.1839C2.75833 14.7668 3.537 15.0879 4.36796 15.0879C5.19863 15.0879 5.9773 14.7668 6.56016 14.1839L14.8589 5.88519C15.0371 5.70702 15.3256 5.70702 15.5038 5.88519C15.682 6.06336 15.682 6.35191 15.5038 6.53008L7.20505 14.8288C6.4501 15.5838 5.44248 16 4.36796 16Z"
                                fill="#212121" />
                        </svg>
                        <p className="pointer">
                            <Link className="me-2 pointer" to="#">
                            Add file
                            </Link>{" "}
                            or drop files here
                        </p>
                    </>
                    )}

                    <input type="file" className="pointer" onChange={handleFileInputChange} />
                </div>
            </div>
        </div>
        <div className={`add_btn col-2 col-md-2 col-sm-2 col-lg-2 pointer ${id===NumberOfInputs && NumberOfInputs !==0
            ? "margin_bottom20px" : "" }`}>
            {showPlus ? (
            <svg width="24" onClick={IncreaseNumberOfInputs} className="me-1" height="24" viewBox="0 0 24 24"
                fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M19.7143 0H4.28569C1.91993 0.0028125 0.0028125 1.91993 0 4.28569V19.7143C0.0028125 22.08 1.91993 23.9971 4.28569 23.9999H19.7143C22.08 23.9971 23.9971 22.08 23.9999 19.7143V4.28569C23.9971 1.91993 22.08 0.0028125 19.7143 0ZM22.2857 19.7143C22.2857 21.1344 21.1344 22.2857 19.7143 22.2857H4.28569C2.86553 22.2857 1.71427 21.1344 1.71427 19.7143V4.28569C1.71427 2.86553 2.86553 1.71427 4.28569 1.71427H19.7143C21.1344 1.71427 22.2857 2.86553 22.2857 4.28569V19.7143Z"
                    fill="#212121" />
                <path
                    d="M16.2841 11.1412H12.8555V7.71263C12.8555 7.23922 12.4717 6.85547 11.9983 6.85547C11.5249 6.85547 11.1412 7.23922 11.1412 7.71263V11.1412H7.71263C7.23922 11.1412 6.85547 11.525 6.85547 11.9984C6.85547 12.4718 7.23922 12.8555 7.71263 12.8555H11.1412V16.2841C11.1412 16.7575 11.525 17.1412 11.9984 17.1412C12.4718 17.1412 12.8555 16.7574 12.8555 16.2841V12.8555H16.2841C16.7575 12.8555 17.1412 12.4717 17.1412 11.9983C17.1412 11.5249 16.7574 11.1412 16.2841 11.1412Z"
                    fill="#212121" />
            </svg>
            ) : (
            ""
            )}

            <svg width="24" className="pointer" onClick={DecreaseNumberOfInputs} height="24"
                xmlns="http://www.w3.org/2000/svg" fill="none">
                <path id="svg_1" fill="#212121"
                    d="m19.7143,0l-15.42861,0c-2.36576,0.00281 -4.28288,1.91993 -4.28569,4.28569l0,15.42861c0.00281,2.3657 1.91993,4.2828 4.28569,4.2856l15.42861,0c2.3657,-0.0028 4.2828,-1.9199 4.2856,-4.2856l0,-15.42861c-0.0028,-2.36576 -1.9199,-4.28288 -4.2856,-4.28569zm2.5714,19.7143c0,1.4201 -1.1513,2.5714 -2.5714,2.5714l-15.42861,0c-1.42016,0 -2.57142,-1.1513 -2.57142,-2.5714l0,-15.42861c0,-1.42016 1.15126,-2.57142 2.57142,-2.57142l15.42861,0c1.4201,0 2.5714,1.15126 2.5714,2.57142l0,15.42861z" />
                <rect id="svg_4" height="1.39025" width="10.92746" y="12.21581" x="6.49036" fill="#212121" />
            </svg>
        </div>
    </div>
</>
);
};

const DocumentUploadField = ({text}) => {
const [fileName, setFileName] = useState([]);
const [NumberOfInputs, setNumberOfInputs] = useState(0);

const handleFileInputChange = (e) => {
setFileName(e.target.files[0].name);
};
const IncreaseNumberOfInputs = () => {
setNumberOfInputs(NumberOfInputs + 1);
};
const DecreaseNumberOfInputs = () => {
setNumberOfInputs(NumberOfInputs - 1);
};
console.log('fileName', fileName)
return (
<>
    <div className="container-fluid mt-4">
        <div className="row d-flex align-items-center mb-4 mb-md-4">
            {/* ----------label-------- */}
            <div className="inputs d-flex col-md-5 col-sm-5 col-lg-5 col-12">
                <span>
                    <svg width="19" height="24" viewBox="0 0 19 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M17.222 24C17.7583 24 18.1945 23.5643 18.1945 23.0275V5.68988C18.1945 5.27947 17.9708 4.78687 17.663 4.51699L13.0148 0.440563C12.7231 0.18527 12.23 0 11.8425 0H0.972526C0.436178 0 0 0.435701 0 0.972546V23.027C0 23.5638 0.436178 23.9995 0.972526 23.9995L17.222 24ZM12.8053 2.19795L15.665 4.70615H12.8048L12.8053 2.19795ZM1.45879 1.45882H11.346V5.19242C11.346 5.72927 11.7822 6.16497 12.3185 6.16497H16.7357V22.5417H1.45879V1.45882Z"
                            fill="#4F4F4F" />
                    </svg>
                </span>
                <p className="ms-3 mb-sm-3 ">{text}</p>
            </div>
            {/* ----------label-------- */}

            <div className="inputs pointer col-sm-5  col-10 col-md-5 col-lg-5">
                <div className="box pointer">
                    <div>
                        {fileName.length > 0 ? (
                        fileName
                        ) : (
                        <>
                            <svg className="me-2 pointer" width="16" height="14" viewBox="0 0 16 14" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M15.4677 2.6651C15.1483 2.3305 14.7072 2.13278 14.2053 2.13278H11.6806V2.10236C11.6806 1.72214 11.5285 1.35712 11.27 1.11377C11.0114 0.855216 10.6616 0.703125 10.2814 0.703125H5.71863C5.32319 0.703125 4.97338 0.855216 4.71483 1.11377C4.45627 1.37233 4.30418 1.72214 4.30418 2.10236V2.13278H1.79468C1.29278 2.13278 0.851711 2.3305 0.532319 2.6651C0.212928 2.98449 0 3.44077 0 3.92746V11.5016C0 12.0035 0.197719 12.4446 0.532319 12.764C0.851711 13.0834 1.30798 13.2963 1.79468 13.2963H14.2053C14.7072 13.2963 15.1483 13.0986 15.4677 12.764C15.7871 12.4446 16 11.9883 16 11.5016V3.92746C16 3.42556 15.8023 2.98449 15.4677 2.6651ZM15.2091 11.5016H15.1939C15.1939 11.7754 15.0875 12.0187 14.9049 12.2012C14.7224 12.3837 14.4791 12.4902 14.2053 12.4902H1.79468C1.52091 12.4902 1.27757 12.3837 1.09506 12.2012C0.912548 12.0187 0.806084 11.7754 0.806084 11.5016V3.92746C0.806084 3.6537 0.912548 3.41035 1.09506 3.22784C1.27757 3.04533 1.52091 2.93887 1.79468 2.93887H4.73004C4.95818 2.93887 5.14068 2.75636 5.14068 2.52822V2.08716C5.14068 1.91985 5.20152 1.76776 5.30799 1.6613C5.41445 1.55484 5.56654 1.494 5.73384 1.494H10.2814C10.4487 1.494 10.6008 1.55484 10.7072 1.6613C10.8137 1.76776 10.8745 1.91985 10.8745 2.08716V2.52822C10.8745 2.75636 11.057 2.93887 11.2852 2.93887H14.2205C14.4943 2.93887 14.7376 3.04533 14.9202 3.22784C15.1027 3.41035 15.2091 3.6537 15.2091 3.92746V11.5016Z"
                                    fill="#212121" />
                                <path
                                    d="M7.99926 3.97266C6.96504 3.97266 6.02207 4.39851 5.35287 5.06771C4.66846 5.75212 4.25781 6.67988 4.25781 7.7141C4.25781 8.74831 4.68367 9.69128 5.35287 10.3605C6.03728 11.0449 6.96504 11.4555 7.99926 11.4555C9.03348 11.4555 9.97645 11.0297 10.6457 10.3605C11.3301 9.67607 11.7407 8.74831 11.7407 7.7141C11.7407 6.67988 11.3149 5.73691 10.6457 5.06771C9.97645 4.39851 9.03348 3.97266 7.99926 3.97266ZM10.0677 9.79774C9.53538 10.3149 8.80534 10.6495 7.99926 10.6495C7.19318 10.6495 6.46314 10.3149 5.93082 9.79774C5.3985 9.26542 5.07911 8.53539 5.07911 7.72931C5.07911 6.92322 5.41371 6.19319 5.93082 5.66087C6.46314 5.12855 7.19318 4.80916 7.99926 4.80916C8.80534 4.80916 9.53538 5.14376 10.0677 5.66087C10.6 6.19319 10.9194 6.92322 10.9194 7.72931C10.9346 8.53539 10.6 9.26542 10.0677 9.79774Z"
                                    fill="#212121" />
                                <path
                                    d="M13.4132 5.44753C13.8248 5.44753 14.1585 5.11387 14.1585 4.70228C14.1585 4.29069 13.8248 3.95703 13.4132 3.95703C13.0016 3.95703 12.668 4.29069 12.668 4.70228C12.668 5.11387 13.0016 5.44753 13.4132 5.44753Z"
                                    fill="#212121" />
                            </svg>

                            <svg className="me-2 pointer" width="16" height="16" viewBox="0 0 16 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M4.36796 16C3.29315 16 2.28553 15.5841 1.53057 14.8288C0.775619 14.0736 0.359375 13.0662 0.359375 11.9914C0.359375 10.9169 0.775315 9.90929 1.53057 9.15433L9.8293 0.855604C11.0166 -0.331101 12.8616 -0.277892 14.1207 0.981177C15.3797 2.24025 15.4338 4.08491 14.2465 5.27253L6.4504 13.0687C5.71855 13.8005 4.52668 13.8017 3.79361 13.0687C3.06116 12.3359 3.06146 11.144 3.79361 10.4119L9.07465 5.13085C9.25282 4.95267 9.54137 4.95267 9.71954 5.13085C9.89771 5.30902 9.89771 5.59756 9.71954 5.77573L4.4385 11.0568C4.06179 11.4335 4.06179 12.0468 4.4385 12.4238C4.81583 12.8005 5.42879 12.7999 5.80551 12.4238L13.6016 4.62764C14.4211 3.80793 14.3672 2.51754 13.4758 1.62607C12.5843 0.734593 11.2939 0.680776 10.4742 1.50049L2.17546 9.79922C1.5926 10.3821 1.27152 11.1608 1.27152 11.9914C1.27152 12.8224 1.5926 13.6011 2.17546 14.1839C2.75833 14.7668 3.537 15.0879 4.36796 15.0879C5.19863 15.0879 5.9773 14.7668 6.56016 14.1839L14.8589 5.88519C15.0371 5.70702 15.3256 5.70702 15.5038 5.88519C15.682 6.06336 15.682 6.35191 15.5038 6.53008L7.20505 14.8288C6.4501 15.5838 5.44248 16 4.36796 16Z"
                                    fill="#212121" />
                            </svg>
                            <p className="pointer">
                                <Link className="me-2 pointer" to="#">
                                Add file
                                </Link>{" "}
                                or drop files here
                            </p>
                        </>
                        )}

                        <input className="pointer" type="file" multiple onChange={handleFileInputChange} />
                    </div>
                </div>
            </div>
            <div className="add_btn pointer col-2 col-md-2 col-sm-2 col-lg-2">
                {NumberOfInputs <= 0 ? ( <svg width="24" onClick={IncreaseNumberOfInputs} className="pointer"
                    height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M19.7143 0H4.28569C1.91993 0.0028125 0.0028125 1.91993 0 4.28569V19.7143C0.0028125 22.08 1.91993 23.9971 4.28569 23.9999H19.7143C22.08 23.9971 23.9971 22.08 23.9999 19.7143V4.28569C23.9971 1.91993 22.08 0.0028125 19.7143 0ZM22.2857 19.7143C22.2857 21.1344 21.1344 22.2857 19.7143 22.2857H4.28569C2.86553 22.2857 1.71427 21.1344 1.71427 19.7143V4.28569C1.71427 2.86553 2.86553 1.71427 4.28569 1.71427H19.7143C21.1344 1.71427 22.2857 2.86553 22.2857 4.28569V19.7143Z"
                        fill="#212121" />
                    <path
                        d="M16.2841 11.1412H12.8555V7.71263C12.8555 7.23922 12.4717 6.85547 11.9983 6.85547C11.5249 6.85547 11.1412 7.23922 11.1412 7.71263V11.1412H7.71263C7.23922 11.1412 6.85547 11.525 6.85547 11.9984C6.85547 12.4718 7.23922 12.8555 7.71263 12.8555H11.1412V16.2841C11.1412 16.7575 11.525 17.1412 11.9984 17.1412C12.4718 17.1412 12.8555 16.7574 12.8555 16.2841V12.8555H16.2841C16.7575 12.8555 17.1412 12.4717 17.1412 11.9983C17.1412 11.5249 16.7574 11.1412 16.2841 11.1412Z"
                        fill="#212121" />
                    </svg>
                    ) : (

                    <svg className="pointer" onClick={DecreaseNumberOfInputs} width="24" height="24"
                        xmlns="http://www.w3.org/2000/svg" fill="none">
                        <path id="svg_1" fill="#212121"
                            d="m19.7143,0l-15.42861,0c-2.36576,0.00281 -4.28288,1.91993 -4.28569,4.28569l0,15.42861c0.00281,2.3657 1.91993,4.2828 4.28569,4.2856l15.42861,0c2.3657,-0.0028 4.2828,-1.9199 4.2856,-4.2856l0,-15.42861c-0.0028,-2.36576 -1.9199,-4.28288 -4.2856,-4.28569zm2.5714,19.7143c0,1.4201 -1.1513,2.5714 -2.5714,2.5714l-15.42861,0c-1.42016,0 -2.57142,-1.1513 -2.57142,-2.5714l0,-15.42861c0,-1.42016 1.15126,-2.57142 2.57142,-2.57142l15.42861,0c1.4201,0 2.5714,1.15126 2.5714,2.57142l0,15.42861z" />
                        <rect id="svg_4" height="1.39025" width="10.92746" y="12.21581" x="6.49036" fill="#212121" />
                    </svg>
                    )}

            </div>

        </div>

    </div>

    {[...Array(NumberOfInputs)].map((elem, index) => {
    console.log(NumberOfInputs);
    console.log(index);
    return (
    <CustomInput IncreaseNumberOfInputs={IncreaseNumberOfInputs} DecreaseNumberOfInputs={DecreaseNumberOfInputs}
        showPlus={NumberOfInputs===index + 1 ? 1 : 0} id={index + 1} NumberOfInputs={NumberOfInputs} />
    );
    })}
    <hr />
</>
);
};

return (
<>
    <div className="container-fluid">
        <div className="row">
            <div className="document_card  mt-5">
                <div className="p-4">
                    <div className="col-md-12">
                        <div className="personal_info_top mb-4">
                            <h3>Document Information</h3>
                            <p>Please check your personal details here</p>
                        </div>
                        <hr />
                    </div>
                    <div className=" mx-2 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-5">
                        {data.map((curr) => (
                        <DocumentUploadField text={curr.text} />

                        ))}

                    </div>
                </div>

            </div>
        </div>
        <div className="row">
            <div className="col-md-12 mt-5">
                <div className="d-sm-flex justify-content-end gap-4">
                    <div className="previous_btn my-3">
                        <button onClick={()=> value ('2')}>Previous</button>
                    </div>
                    <div className="save_and_next_btn my-3">
                        <button onClick={()=> value('4')}>Save & Next</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</>
);
};

export default Document;